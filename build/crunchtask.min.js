!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a,b){for(var c={},e=d.isArray(b),f=0,g=a.length;g>f;f++)c[a[f]]=e?b[f]:b;return c}var d=a("./type");b.exports=c},{"./type":33}],2:[function(a,b){"use strict";function c(a,b){var c=d.call(arguments,2);return function(){var e=d.call(arguments,0);return b.apply(a,[].concat(c,e))||a}}var d=[].slice;b.exports=c},{}],3:[function(a,b){"use strict";function c(a,b,c){var g;for(var h in c)d.call(c,h)&&(g=c[h],e.isFunction(g)&&(b[h]=f(a,g)));return b}var d={}.hasOwnProperty,e=a("./type"),f=a("./bind");b.exports=c},{"./bind":2,"./type":33}],4:[function(a,b){"use strict";var c={trace:!1,timeLimit:100,timeoutAmount:0,debug:!1},d={trace:!1,timeLimit:100,timeoutAmount:0,debug:!1};b.exports={config:c,defaultConfig:d}},{}],5:[function(a,b){"use strict";var c=a("./mirror"),d=c({run:null,done:null,fail:null,abort:null,error:null,progress:null,idle:null},"event.");b.exports=d},{"./mirror":28}],6:[function(a,b){"use strict";var c=a("./arrayToObject"),d=a("./constStateNames"),e=c([d.running,d.paused],!0);b.exports=e},{"./arrayToObject":1,"./constStateNames":8}],7:[function(a,b){"use strict";var c=a("./arrayToObject"),d=a("./constStateNames"),e=c([d.error,d.resolved,d.rejected,d.aborted],!0);b.exports=e},{"./arrayToObject":1,"./constStateNames":8}],8:[function(a,b){"use strict";var c=a("./mirror"),d=c({init:null,error:null,running:null,paused:null,resolved:null,rejected:null,aborted:null},"state.");b.exports=d},{"./mirror":28}],9:[function(a,b){"use strict";var c=a("./arrayToObject"),d=a("./constStateNames"),e=c([d.resolved,d.rejected,d.error,d.aborted],["success","failure","error","aborted"]);b.exports=e},{"./arrayToObject":1,"./constStateNames":8}],10:[function(a,b){(function(c){/**
 * @preserve
 * @module CrunchTask
 * Created by AndrewRevinsky on 10/10/2014.
 */
!function(){"use strict";var d=a("./typeCrunchtaskImpl"),e=a("./typeCrunchtaskStatics"),f=a("./typeCrunchtask");d=d,e=e;var g="object"==typeof window&&window?window:"undefined"!=typeof c&&"undefined"!=typeof b&&b.exports?b.exports:{};g.CrunchTask=f,f.config(!1)}()}).call(this,a("_process"))},{"./typeCrunchtask":34,"./typeCrunchtaskImpl":35,"./typeCrunchtaskStatics":36,_process:38}],11:[function(a,b){"use strict";function c(a,b){return d.isFunction(a)?function(c){return a.apply(b||this,c)}:a instanceof f?function(c){return e.staticParentTask=b,a.run.apply(a,c)}:function(a){return a}}var d=a("./type"),e=a("./globals"),f=a("./typeCrunchtask");b.exports=c},{"./globals":27,"./type":33,"./typeCrunchtask":34}],12:[function(a,b){"use strict";function c(a){return d.isFunction(a)||a instanceof e}var d=a("./type"),e=a("./typeCrunchtask");b.exports=c},{"./type":33,"./typeCrunchtask":34}],13:[function(a,b){"use strict";function c(a,b){f.trace&&(console.log("inside proceedBodyFn",this.id,new Date-0),console.log("isFirstTime",b),console.log("this.timeoutAmount",this.timeoutAmount)),e.call(this,b?0:this.timeoutAmount,function(a){f.trace&&console.log("inside proceedBodyFn:defer",this.id,new Date-0);var b,e,j,k,l=this.task,m=this.needRepeat,n=d.isNumber(m)?m:0,o=0,p=0,q=this.state===g.running&&!l.isPaused&&!l.isAborted;if(q){b=new Date;do{try{e=new Date,this.bodyFn(a.resolve,a.reject,a.sendNotify,{batchStarted:b,batchIndex:o,batchElapsed:p,runBlock:this.runBlock})}catch(r){f.debug&&console.log(r+", stack: "+r.stack),a.signalError("body",r)}p+=new Date-e,o++,j=m&&0!==n&&n>p&&this.state===g.running}while(j)}else(l.isAborted||this.state===g.aborted)&&a.reject("aborted");return(k=m&&h[this.state]&&!l.isAborted)?(this.runBlock++,f.trace&&console.log("rescheduling proceedBodyFn",this.id,new Date-0),c.call(this,a)):(m===!1&&a.resolve(),void(this.finallyFn&&!this.finallyFn.call(this,i[this.state])&&a.signalError("CrunchTask.description.fin",this.status)))},[a])}var d=a("./type"),e=a("./defer"),f=a("./config").config,g=a("./constStateNames"),h=a("./constNeedRepeatStates"),i=a("./constVerboseStates");b.exports=c},{"./config":4,"./constNeedRepeatStates":6,"./constStateNames":8,"./constVerboseStates":9,"./defer":23,"./type":33}],14:[function(a,b){"use strict";function c(a){var b=this,c=b.task,i=b.descriptionFn;if(!i)return a.signalError("CrunchTask.description.empty","Description function is empty.");if(f.trace&&console.log("before descriptionFn run",new Date-0),!e(c,i)(a.setupInit,a.setupBody,a.setupFin)||h[b.state]||0!==b.conditionsToMeet)return a.signalError("CrunchTask.description.else","");f.trace&&console.log("after descriptionFn run",new Date-0);var j=b.needRepeat;j=j===!1?j:0===j?j:j||f.timeLimit,b.needRepeat=0===j?!0:j,b.timeoutAmount=b.timeoutAmount||f.timeoutAmount,f.trace&&(console.log("collected `needRepeat`:",b.needRepeat),console.log("collected `timeoutAmount`:",b.timeoutAmount)),a.goRunning(),f.trace&&console.log("before defer",new Date-0),d.call(b,0,function(){f.trace&&console.log("inside defer",new Date-0),this.initFn&&!this.initFn.apply(this,this.runArgs)&&a.signalError("CrunchTask.description.init"),f.trace&&console.log("before  proceedBodyFn",new Date-0),g.call(this,a,!0)})}var d=a("./defer"),e=a("./safe"),f=a("./config").config,g=a("./ctFnProceedBody"),h=a("./constSettledStates");b.exports=c},{"./config":4,"./constSettledStates":7,"./ctFnProceedBody":13,"./defer":23,"./safe":31}],15:[function(a,b){"use strict";function c(){return new d(function(a,b){b(function(a){a()})})}var d=a("./typeCrunchtask");b.exports=c},{"./typeCrunchtask":34}],16:[function(a,b){"use strict";var c=[].slice,d=a("./ctFnGetExecutableFor"),e=a("./typeCrunchtask"),f={isIdle:function(){return 0===this.runCount},pause:function(){return this.isPaused=!0,this},resume:function(){return delete this.isPaused,this},abort:function(){return this.isAborted=!0,this},then:function(a){function b(){for(var a,b=c.call(arguments,0);a=g.shift();)d(a)(b)}var f,g=c.call(arguments,1);try{return f=new e(a)}finally{f.done(b),this.done(b)}}};b.exports=f},{"./ctFnGetExecutableFor":11,"./typeCrunchtask":34}],17:[function(a,b){"use strict";function c(a,b){var c=this,h=f.staticParentTask;f.staticParentTask=null;var m={},p={task:c,id:"T_"+c.id+":"+j(),conditionsToMeet:1,state:n.init,runBlock:0,runArgs:e.call(arguments,2),descriptionFn:a,parentTask:h},q=null,r=function(a,c){q=i(p,k,m,b,{resolve:a,reject:c}),g.call(p,0,l,[m])};return d(new o(r),m,q)}function d(a,b,c){return c(a),h(a,{onError:i(a,b.runEventsOn,m.error),abort:i(a,b.abort),pause:i(a,b.pause),resume:i(a,b.resume),done:i(a,b.runEventsOn,m.done),fail:i(a,b.runEventsOn,m.fail),always:i(a,b.runEventsOn,[m.done,m.fail,m.error].join()),progress:i(a,b.runEventsOn,m.progress)})}var e=[].slice,f=a("./globals"),g=a("./defer"),h=a("./extend"),i=a("./partial"),j=a("./nextUid"),k=a("./ctRunEncapsulateInst"),l=a("./ctFnProceedDescription"),m=a("./constEventNames"),n=a("./constStateNames"),o=a("promise-polyfill");b.exports=c},{"./constEventNames":5,"./constStateNames":8,"./ctFnProceedDescription":14,"./ctRunEncapsulateInst":18,"./defer":23,"./extend":26,"./globals":27,"./nextUid":29,"./partial":30,"promise-polyfill":39}],18:[function(a,b){"use strict";function c(a,b,c,q){function r(){if(!p[v.state]){var a=d.call(arguments,0);v.state=o.error,v.value=a,s(a,n.error,z)}}function s(a,b,c){B.apply(this,[b].concat(a)),c&&i.call(w,0,c,[a])}function t(a,b){i(1,function(){a.runCount+b.runCount>0||(l.staticSecurityLock=!0,a._signalIdle(),l.staticSecurityLock=!0,b._signalIdle(),delete v.parentTask,delete b.childTask)})}function u(a){a.runCount=Math.max(0,a.runCount-1),a.runCount||(delete a.isAborted,delete a.isPaused,a.childTask?t(a.childTask,a):v.parentTask?t(a,v.parentTask):i(1,function(){a.runCount||(l.staticSecurityLock=!0,a._signalIdle())}))}var v=this,w=v.task,x=v.parentTask,y=j(c.resolve),z=j(c.reject),A=h(q),B=k(A.trigger,b.trigger);return x&&(x.childTask=w),f(a,{setupInit:function(a){return m.trace&&console.log("setupInit",new Date-0),p[v.state]?void 0:e.isUndefined(a)||e.isFunction(a)?void(v.initFn=j(w,a)):r("CrunchTask.description.initSetup","Init setup expects an optional function.")},setupBody:function(a,b,c){if(m.trace&&console.log("setupBody",new Date-0),!p[v.state]){if(!e.isFunction(a))return r("CrunchTask.description.bodySetup","Body setup expects a function as a first optional arg.");if(!e.isUndefined(b)&&!e.isBoolean(b)&&!e.isNumber(b))return r("CrunchTask.description.bodySetup","Body setup expects a number or false as a 2nd optional arg.");if(!e.isUndefined(c)&&!e.isNumber(c))return r("CrunchTask.description.bodySetup","Body setup expects a number as a 3rd optional arg.");v.bodyFn=j(w,a),v.conditionsToMeet--,v.needRepeat=b,v.timeoutAmount=c}},setupFin:function(a){return m.trace&&console.log("setupFin",new Date-0),p[v.state]?void 0:e.isUndefined(a)||e.isFunction(a)?void(v.finallyFn=j(w,a)):r("CrunchTask.description.finSetup","Fin setup expects a function as a first optional arg.")},signalError:r,runEventsOn:A.on,goRunning:function(){w.runCount++,v.state=o.running,b.trigger(n.run,v.id)},resolve:function(){if(!p[v.state]){var a=d.call(arguments,0);v.state=o.resolved,v.value=a,u(w),s(a,n.done,y)}},reject:function(){if(!p[v.state]){var a=d.call(arguments,0);v.state=o.rejected,v.value=a,u(w),s(a,n.fail,z)}},abort:function(){return p[v.state]?void 0:(v.state=o.aborted,this)},pause:function(){return p[v.state]?void 0:(v.state=o.paused,this)},resume:function(){return p[v.state]?void 0:(v.state=o.running,this)},sendNotify:g(B,n.progress)})}var d=[].slice,e=a("./type"),f=a("./extend"),g=a("./partial"),h=a("./events"),i=a("./defer"),j=a("./safe"),k=a("./together"),l=a("./globals"),m=a("./config").config,n=a("./constEventNames"),o=a("./constStateNames"),p=a("./constSettledStates");b.exports=c},{"./config":4,"./constEventNames":5,"./constSettledStates":7,"./constStateNames":8,"./defer":23,"./events":25,"./extend":26,"./globals":27,"./partial":30,"./safe":31,"./together":32,"./type":33}],19:[function(a,b){"use strict";function c(){for(var a=arguments.length,b=0;f(arguments[a-1-b]);)b++;var c=e.call(arguments,0,a-b),g=e.call(arguments,-b),h=new k(c),j=g[0],l=g[1]||function(){};return j?d(h,j,l):i()}function d(a,b,c){return new j(function(d,f,i){var j,l=a,m=h(b,this),n=h(c,this);d(function(){var a=e.call(arguments,0);a.length&&(l=new k(a)),j=l.canAdvance(!0)}),f(function(a){j&&m(l.valueOf()),j&&l.canAdvance()||a()},g.timeLimit,g.timeoutAmount),i(function(){n(l.valueOf())})})}var e=[].slice,f=a("./ctFnIsExecutable"),g=a("./config").config,h=a("./ctFnGetExecutableFor"),i=a("./ctFnResolvedTask"),j=a("./typeCrunchtask"),k=a("./typeRange");b.exports=c},{"./config":4,"./ctFnGetExecutableFor":11,"./ctFnIsExecutable":12,"./ctFnResolvedTask":15,"./typeCrunchtask":34,"./typeRange":37}],20:[function(a,b){"use strict";function c(a,b,c){return new f(function(f,h,i){var j,k,l,m=a,n=e(b,this),o=e(c,this);f(function(b){b&&(m=a),j=new g([0,m.length]),l=j.canAdvance(!0)}),h(function(a){l&&(k=j.valueOf()[0],n([m[k],k])),l&&j.canAdvance()||a()},d.timeLimit,d.timeoutAmount),i(function(){o(j.valueOf())})})}var d=a("./config").config,e=a("./ctFnGetExecutableFor"),f=a("./typeCrunchtask"),g=a("./typeRange");b.exports=c},{"./config":4,"./ctFnGetExecutableFor":11,"./typeCrunchtask":34,"./typeRange":37}],21:[function(a,b){"use strict";function c(){var a=d.call(arguments,0);return new e(a)}var d=[].slice,e=a("./typeRange");b.exports=c},{"./typeRange":37}],22:[function(a,b){"use strict";function c(a,b,c,i){return new g(function(g,j,k){var l,m,n,o=a,p=b,q=f(c,this),r=f(i,this);g(function(b,c){b&&(o=a),l=new h([0,o.length]),n=l.canAdvance(!0),d.isUndefined(c)||(p=c)}),j(function(a){n&&(m=l.valueOf()[0],p=q([p,o[m],m])),n&&l.canAdvance()||a(p)},e.timeLimit,e.timeoutAmount),k(function(){r(p,l.valueOf())})})}var d=a("./type"),e=a("./config").config,f=a("./ctFnGetExecutableFor"),g=a("./typeCrunchtask"),h=a("./typeRange");b.exports=c},{"./config":4,"./ctFnGetExecutableFor":11,"./type":33,"./typeCrunchtask":34,"./typeRange":37}],23:[function(a,b){"use strict";function c(a,b,c){var d=this;return setTimeout(function(){b.apply(d,c||[])},a||0)}b.exports=c},{}],24:[function(a,b){"use strict";function c(a,b){throw d.isUndefined(b)&&(b=a,a="Generic"),new Error(["`CT_",a,"`. Message: ",b].join(""))}var d=a("./type");b.exports=c},{"./type":33}],25:[function(a,b){"use strict";function c(a,b,c){if(c)for(var d,e,g=f.call(arguments,3),h=b.split(/\s*,\s*/);d=h.shift();)(e=a[d])?e.push([c,g]):a[d]=[[c,g]]}function d(a,b){var c=f.call(arguments,2);if(a[b])for(var d,e,g=a[b],h=0,j=g.length;j>h;h++)if(d=g[h][0],e=g[h][1],d)try{d.apply(this,[].concat(e,c))}catch(k){i.debug&&console.log(k+", stack: "+k.stack)}}function e(a,b){var e=b||{};return{on:g(a,c,e),trigger:g(a,d,e)}}var f=[].slice,g=a("./bind"),h=a("./config"),i=h.config;b.exports=e},{"./bind":2,"./config":4}],26:[function(a,b){"use strict";function c(a,b){if(arguments.length>2)return d.apply(null,arguments);for(var c in b)e.call(b,c)&&(a[c]=b[c]);return a}function d(a){for(var b,d=f.call(arguments,1);b=d.shift();)c(a,b);return a}var e={}.hasOwnProperty,f=[].slice;b.exports=c},{}],27:[function(a,b){b.exports={staticLastSafeError:null,staticParentTask:null,staticSecurityLock:null,staticCTImpl:function(){}}},{}],28:[function(a,b){"use strict";function c(a,b){for(var c in a)d.call(a,c)&&(a[c]=b+c);return a}var d={}.hasOwnProperty;b.exports=c},{}],29:[function(a,b){"use strict";function c(){return++d}var d=0;b.exports=c},{}],30:[function(a,b){"use strict";function c(){var a=this,b=arguments[0],c=d.call(arguments,1);return!e.isFunction(b)&&e.isFunction(c[0])&&(a=arguments[0],b=c.shift()),function(){var e=d.call(arguments,0);return b.apply(a,[].concat(c,e))}}var d=[].slice,e=a("./type");b.exports=c},{"./type":33}],31:[function(a,b){"use strict";function c(a,b){return e.isFunction(a)&&(b=a,a=this),e.isFunction(b)||(b=function(){}),function(){var c=d.call(arguments,0);try{return b.apply(a,c),!0}catch(e){return g.staticLastSafeError=e,h.debug&&console.log(e+", stack: "+e.stack),!1}}}var d=[].slice,e=a("./type"),f=a("./config"),g=a("./globals"),h=f.config;b.exports=c},{"./config":4,"./globals":27,"./type":33}],32:[function(a,b){"use strict";function c(){var a=d.call(arguments,0);return function(){for(var b,c=d.call(arguments,0),f=[].concat(a);(b=f.shift())&&e.isFunction(b);)b.apply(this,c)}}var d=[].slice,e=a("./type");b.exports=c},{"./type":33}],33:[function(a,b){"use strict";function c(a){return function(b){return h.call(b)===a}}for(var d,e,f,g={},h=Object.prototype.toString,i=[!0,1,[],function(){},d,{}],j=/\s+(\w+)]/,k=0,l=i.length;l>k;k++)e=(f=h.call(i[k])).replace("DOMWindow","Undefined"),g["is"+e.match(j)[1]]=c(f);b.exports=g},{}],34:[function(a,b){"use strict";function c(a){return this instanceof c?d.staticCTImpl(this,a):new c(a)}var d=a("./globals");b.exports=c},{"./globals":27}],35:[function(a,b){"use strict";function c(a,b,c){return g(d(a,a,j),{id:e(),timestamp:new Date-0,runCount:0,run:h(a,k,c,b),onRun:h(b.on,m.run),onIdle:h(b.on,m.idle),onError:h(b.on,m.error),done:h(b.on,m.done),fail:h(b.on,m.fail),always:h(b.on,[m.done,m.fail,m.error].join()),progress:h(b.on,m.progress),_signalIdle:function(){i.staticSecurityLock&&(i.staticSecurityLock=!1,b.trigger(m.idle))}})}var d=a("./bindAll"),e=a("./nextUid"),f=a("./events"),g=a("./extend"),h=a("./partial"),i=a("./globals"),j=a("./ctProtoBoundMethods"),k=a("./ctProtoRun"),l=a("./typeCrunchtask"),m=a("./constEventNames");i.staticCTImpl=function(a,b){return c(a,f(a),b)},b.exports=l},{"./bindAll":3,"./constEventNames":5,"./ctProtoBoundMethods":16,"./ctProtoRun":17,"./events":25,"./extend":26,"./globals":27,"./nextUid":29,"./partial":30,"./typeCrunchtask":34}],36:[function(a,b){"use strict";var c={}.hasOwnProperty,d=a("./type"),e=a("./extend"),f=a("./config"),g=a("./ctStaticFor"),h=a("./ctStaticForEach"),i=a("./ctStaticReduce"),j=a("./ctStaticNormalizeRanges"),k=a("./typeCrunchtask"),l=f.config,m=f.defaultConfig;e(k,{"for":g,range:g,rangeCheck:j,rangeNextAndCheck:function(a,b){return a.canAdvance(b)},forEach:h,reduce:i,config:function n(a){if(!d.isObject(a))return n(m);var b={};for(var e in a)c.call(a,e)&&c.call(l,e)&&(l[e]=a[e],b[e]=a[e]);return b}}),b.exports=k},{"./config":4,"./ctStaticFor":19,"./ctStaticForEach":20,"./ctStaticNormalizeRanges":21,"./ctStaticReduce":22,"./extend":26,"./type":33,"./typeCrunchtask":34}],37:[function(a,b){"use strict";function c(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c.push(b(a[d],d));return c}function d(a){return(arguments.length>1||!h.isArray(a))&&i("Ranges","Pass strictly a single arguments of type array"),this instanceof d?void(this.data=e(g(a))):new d(a)}function e(a){return c(a,f)}function f(a){var b,c=a.length,d=c-1,e=h.isBoolean(a[d]);switch(c-(e?1:0)){case 2:case 3:return b=c-(e?1:0)===3?a[2]:a[0]<=a[1]?1:-1,{from:a[0],current:a[0],to:a[1],step:b,inclusive:e?a[c-1]:!1};case 0:case 1:i("Ranges","Use at least two values to define a range.");break;default:c%2===0&&c%3===0?i("Ranges","Use arrays to split range parts. Cannot determine pattern now."):i("Ranges","Use arrays to split range parts properly.")}}function g(a,b){for(var c,d,e=[],f=[];a.length;)c=a.splice(0,1)[0],d=h.isArray(c),d&&b!==!0?(f.length&&(e.push(f),f=[]),e.push(g(c,!0))):h.isBoolean(c)?(f.push(c),e.push(f),f=[]):h.isNumber(c)&&f.push(c);return f.length&&e.push(f),b===!0?e[0]:e}var h=a("./type"),i=a("./error");d.prototype.toString=d.prototype.valueOf=function(){return c(this.data,function(a){return a.current})},d.prototype.canAdvance=function(a){var b,c,d,e=0,f=this.data,g=f.length;do c=!1,b=f[e],a!==!0&&(b.current+=b.step),(!b.inclusive&&b.current===b.to||(b.step>0?b.current>b.to:b.current<b.to))&&(b.current=b.from,c=!0,e++),d=g>e;while(c&&d);return!c&&d},b.exports=d},{"./error":24,"./type":33}],38:[function(a,b){function c(){j=!1,g.length?i=g.concat(i):k=-1,i.length&&d()}function d(){if(!j){var a=setTimeout(c);j=!0;for(var b=i.length;b;){for(g=i,i=[];++k<b;)g[k].run();k=-1,b=i.length}g=null,j=!1,clearTimeout(a)}}function e(a,b){this.fun=a,this.array=b}function f(){}var g,h=b.exports={},i=[],j=!1,k=-1;h.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];i.push(new e(a,b)),1!==i.length||j||setTimeout(d,0)},e.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],39:[function(a,b){(function(a){!function(){function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],j(a,c(f,this),c(g,this))}function e(a){var b=this;return null===this._state?void this._deferreds.push(a):void l(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function f(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return void j(c(b,a),c(f,this),c(g,this))}this._state=!0,this._value=a,h.call(this)}catch(d){g.call(this,d)}}function g(a){this._state=!1,this._value=a,h.call(this)}function h(){for(var a=0,b=this._deferreds.length;b>a;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function i(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function j(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var k;k="object"==typeof window&&window?window:a,"undefined"!=typeof b&&b.exports?b.exports=k.Promise?k.Promise:d:k.Promise||(k.Promise=d);var l=k.setImmediate||function(a){setTimeout(a,1)},m=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.prototype["catch"]=function(a){return this.then(null,a)},d.prototype.then=function(a,b){var c=this;return new d(function(d,f){e.call(c,new i(a,b,d,f))})},d.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&m(arguments[0])?arguments[0]:arguments);return new d(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37]);
//# sourceMappingURL=crunchtask.min.js.map