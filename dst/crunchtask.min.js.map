{"version":3,"file":"crunchtask.min.js","sources":["crunchtask.js"],"names":["bind","fn","thisArg","apply","arguments","Promise","this","TypeError","_state","_value","_deferreds","doResolve","resolve","reject","handle","deferred","me","push","asap","cb","onFulfilled","onRejected","ret","e","newValue","then","finale","call","i","len","length","Handler","done","value","reason","ex","root","window","global","module","exports","setImmediate","setTimeout","isArray","Array","Object","prototype","toString","all","args","slice","res","val","remaining","constructor","race","values","isExecutable","type","isFunction","CrunchTask","error","errType","msg","isUndefined","Error","join","nextUid","uid","_initObjectProps","obj","prefix","prop","__hasOwnProperty","_arrayToObject","arr","result","iMax","_objExtend","target","source","_fnPartial","ctx","args0","__slice","shift","args1","concat","_fnBind","_fnTogether","auxFns","auxFn","_on","hive","evt","evtName","handlers","evts","split","_trigger","pair","handler","maxI","console","info","defer","timeoutAmount","safe","protoRun","descriptionFn","taskEvents","thisTask","parentTask","staticParentTask","instanceApi","runCtx","task","id","conditionsToMeet","state","STATE_NAMES","init","runBlock","runArgs","encapsulation","promiseFn","_resolve","_reject","encapsulateRunInstance","proceedDescriptionFn","overloadPromise","promise","sealEncapsulationFn","onError","runEventsOn","EVENT_NAMES","abort","pause","resume","fail","always","resolveReject","signalError","SETTLED_STATES","signalGeneric","rejectSafe","eventName","actionFn","triggerBoth","signalTwoParties","taskC","taskP","runCount","staticSecurityLock","_signalIdle","childTask","decreaseRunning","Math","max","isAborted","isPaused","resolveSafe","runEvents","serveEvents","trigger","setupInit","_initFn","initFn","setupBody","_bodyFn","_needRepeat","_timeout","isBoolean","isNumber","bodyFn","needRepeat","setupFin","_finallyFn","finallyFn","on","goRunning","running","run","resolved","rejected","aborted","paused","sendNotify","progress","proceedBodyFn","isFirstTime","timerBatchStart","timerStart","canRepeatThisLoop","canQueueNextBatch","timeLimit","miniRunCount","timerElapsed","canExecuteNextLoop","Date","batchStarted","batchIndex","batchElapsed","NEED_REPEAT_STATES","VERBOSE_STATES","status","protoAbort","protoPause","protoResume","protoThen","doneHandler","getExecutableFor","_newTask","_obj","prepareBlankTask","events","timestamp","isIdle","onRun","onIdle","idle","staticFor","argsCount","fnCount","fns","ranges","Range","taskBody","taskTail","internalFor","resolvedTask","staticForEach","body","fin","ptr","canRunCycle","arrInternal","tailFn","_arr","canAdvance","valueOf","staticReduce","memo","memoInternal","_memo","normalizeRanges","_ranges","k","hasOwnProperty","getTestFor","fullName","__toString","_undef","originalName","sourceTypes","classNamePattern","replace","match","require","range","rangeCheck","rangeNextAndCheck","checkOnly","forEach","reduce","data","translateRangeArgs","parseRangeArgs","translateRangeSet","rangeSet","step","rangeLength","last","lastIsBool","from","current","to","inclusive","preventRecursion","item","isArrayFlag","splice","justCheck","counterOverflow","rangeInBounds","currentR","maxR"],"mappings":"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"}